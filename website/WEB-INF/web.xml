<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">

 <display-name>GenePattern</display-name>
 
 <!-- JSPC servlet mappings start -->

    <servlet>
        <servlet-name>org.apache.jsp.navbarHead_jsp</servlet-name>
        <servlet-class>org.apache.jsp.navbarHead_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.getTaskDocCatalog_jsp</servlet-name>
        <servlet-class>org.apache.jsp.getTaskDocCatalog_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.installFrame_jsp</servlet-name>
        <servlet-class>org.apache.jsp.installFrame_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.installNav_jsp</servlet-name>
        <servlet-class>org.apache.jsp.installNav_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.getTaskDocError_jsp</servlet-name>
        <servlet-class>org.apache.jsp.getTaskDocError_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.footer_jsp</servlet-name>
        <servlet-class>org.apache.jsp.footer_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.makePipeline_jsp</servlet-name>
        <servlet-class>org.apache.jsp.makePipeline_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.addTask_jsp</servlet-name>
        <servlet-class>org.apache.jsp.addTask_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.viewPipeline_jsp</servlet-name>
        <servlet-class>org.apache.jsp.viewPipeline_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.createReport_jsp</servlet-name>
        <servlet-class>org.apache.jsp.createReport_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.getTaskDoc_jsp</servlet-name>
        <servlet-class>org.apache.jsp.getTaskDoc_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.makeZip_jsp</servlet-name>
        <servlet-class>org.apache.jsp.makeZip_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.getFile_jsp</servlet-name>
        <servlet-class>org.apache.jsp.getFile_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.navbar_jsp</servlet-name>
        <servlet-class>org.apache.jsp.navbar_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.index_jsp</servlet-name>
        <servlet-class>org.apache.jsp.index_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.requestReport_jsp</servlet-name>
        <servlet-class>org.apache.jsp.requestReport_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.sql_jsp</servlet-name>
        <servlet-class>org.apache.jsp.sql_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.saveTask_jsp</servlet-name>
        <servlet-class>org.apache.jsp.saveTask_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.viewReports_jsp</servlet-name>
        <servlet-class>org.apache.jsp.viewReports_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.installLog_jsp</servlet-name>
        <servlet-class>org.apache.jsp.installLog_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.pages.index_jsp</servlet-name>
        <servlet-class>org.apache.jsp.pages.index_jsp</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>org.apache.jsp.modules.createhelp_jsp</servlet-name>
        <servlet-class>org.apache.jsp.modules.createhelp_jsp</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.navbarHead_jsp</servlet-name>
        <url-pattern>/navbarHead.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.getTaskDocCatalog_jsp</servlet-name>
        <url-pattern>/getTaskDocCatalog.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.installFrame_jsp</servlet-name>
        <url-pattern>/installFrame.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.installNav_jsp</servlet-name>
        <url-pattern>/installNav.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.getTaskDocError_jsp</servlet-name>
        <url-pattern>/getTaskDocError.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.footer_jsp</servlet-name>
        <url-pattern>/footer.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.makePipeline_jsp</servlet-name>
        <url-pattern>/makePipeline.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.addTask_jsp</servlet-name>
        <url-pattern>/addTask.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.viewPipeline_jsp</servlet-name>
        <url-pattern>/viewPipeline.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.createReport_jsp</servlet-name>
        <url-pattern>/createReport.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.getTaskDoc_jsp</servlet-name>
        <url-pattern>/getTaskDoc.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.makeZip_jsp</servlet-name>
        <url-pattern>/makeZip.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.getFile_jsp</servlet-name>
        <url-pattern>/getFile.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.navbar_jsp</servlet-name>
        <url-pattern>/navbar.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.index_jsp</servlet-name>
        <url-pattern>/index.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.requestReport_jsp</servlet-name>
        <url-pattern>/requestReport.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.sql_jsp</servlet-name>
        <url-pattern>/sql.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.saveTask_jsp</servlet-name>
        <url-pattern>/saveTask.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.viewReports_jsp</servlet-name>
        <url-pattern>/viewReports.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.installLog_jsp</servlet-name>
        <url-pattern>/installLog.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.pages.index_jsp</servlet-name>
        <url-pattern>/pages/index.jsp</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>org.apache.jsp.modules.createhelp_jsp</servlet-name>
        <url-pattern>/modules/createhelp.jsp</url-pattern>
    </servlet-mapping>

<!-- JSPC servlet mappings end -->

 <error-page>
    <error-code>500</error-code>
    <location>/internalError.jsp</location>
</error-page>
<error-page>
    <error-code>404</error-code>
    <location>/pages/notFound.jsf</location>
</error-page>

 <context-param>
 <param-name>org.richfaces.SKIN</param-name>
 <param-value>blueSky</param-value>
</context-param>

 <context-param>
  <param-name>javax.faces.DEFAULT_SUFFIX</param-name>
  <param-value>.xhtml</param-value>
 </context-param>
 <context-param>
  <param-name>facelets.REFRESH_PERIOD</param-name>
  <param-value>-1</param-value>
 </context-param>
 <context-param>
  <param-name>facelets.DEVELOPMENT</param-name>
  <param-value>false</param-value>
 </context-param>
 <context-param>
  <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
  <param-value>server</param-value>
 </context-param>
 <context-param>
  <param-name>javax.faces.NUMBER_OF_VIEWS_IN_SESSION</param-name>
  <param-value>1</param-value>
 </context-param>
 
 <context-param>
  <param-name>com.sun.faces.validateXml</param-name>
  <param-value>false</param-value>
 </context-param>
 <context-param>
  <param-name>com.sun.faces.verifyObjects</param-name>
  <param-value>false</param-value>
 </context-param>
 <context-param>
  <param-name>facelets.LIBRARIES</param-name>
  <param-value>/WEB-INF/tomahawk.taglib.xml</param-value>
 </context-param>

 <filter>
  <filter-name>CorsFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.CorsFilter</filter-class>
 </filter>
 <filter>
  <filter-name>IgvFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.IgvFilter</filter-class>
  <!-- initialize the filter with a list of User-Agent prefixes, see IgvFilter documentation. -->
  <init-param><param-name>GenePatternRest</param-name><param-value></param-value></init-param>
  <init-param><param-name>IGV</param-name><param-value></param-value></init-param>
  <init-param><param-name>Java</param-name><param-value></param-value></init-param>
 </filter>

 <filter>
  <filter-name>ConnectionFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.ConnectionFilter</filter-class>
 </filter>

 <filter>
  <filter-name>RedirectToFQHostFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.RedirectToFQHostFilter</filter-class>
 </filter>
 
 <filter>
  <filter-name>AuthorizationFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.AuthorizationFilter</filter-class>
  <init-param>
   <param-name>org.genepattern.AuthorizationManagerFactory</param-name>
   <param-value>org.genepattern.server.util.AuthorizationManagerFactoryImpl</param-value>
  </init-param>
 </filter>

 <filter>
  <filter-name>AuthenticationFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.AuthenticationFilter</filter-class>
  <init-param>
   <!--  List of jsf pages that user can access if not logged in. If user requests one of these pages while logged in, he is redirected to the home page.  -->
   <param-name>no.login.required.redirect.to.home</param-name>
   <param-value>login.jsf,registerUser.jsf,forgotPassword.jsf</param-value>
  </init-param>
  <init-param>
  <!-- List of jsf pages that user can access if not logged in. If user requests one of these pages while logged in, he goes to the requested page. -->
   <param-name>no.login.required</param-name>
   <param-value>getTaskDoc.jsp,/module/doc, getTaskDocError.jsp, about.jsf,contactUs.jsf, registerServer.jsf, contactUs.jsf, registerServer.jsf, unregisteredServer.jsf, terms.jsf, systemMessage.jsf</param-value>
  </init-param>
  <init-param>
   <param-name>home.page</param-name>
   <param-value>/pages/index.jsf</param-value>
  </init-param>
 </filter>

 <filter>
  <filter-name>LogoutFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.LogoutFilter</filter-class>
 </filter>

 <filter>
  <filter-name>AdminServerFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.AdminServerFilter</filter-class> 
 </filter>

 <filter>
  <filter-name>HibernateFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.HibernateSessionRequestFilter</filter-class>
 </filter>
 
 <filter>
  <filter-name>RegistrationFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.RegistrationFilter</filter-class>
 </filter>
 
 <filter>
  <display-name>ExtensionsFilter</display-name>
  <filter-name>ExtensionsFilter</filter-name>
  <filter-class>org.apache.myfaces.component.html.util.ExtensionsFilter</filter-class>
  <init-param>
   <description>Ignore files greather than this max size</description>
   <param-name>uploadMaxFileSize</param-name>
   <param-value>10g</param-value>
  </init-param>
  <init-param>
   <description>Keep files less than this threshold in memory</description>
   <param-name>uploadThresholdSize</param-name>
   <param-value>100k</param-value>
  </init-param>
 </filter>

 <filter-mapping>
  <filter-name>CorsFilter</filter-name>
  <url-pattern>/*</url-pattern>
 </filter-mapping>

 <filter-mapping>
  <filter-name>IgvFilter</filter-name>
  <url-pattern>/getFile.jsp</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>IgvFilter</filter-name>
  <url-pattern>/jobResults/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>IgvFilter</filter-name>
  <url-pattern>/data/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
   <filter-name>IgvFilter</filter-name>
   <url-pattern>/users/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>RedirectToFQHostFilter</filter-name>
  <url-pattern>/*</url-pattern>
 </filter-mapping>
 <!-- extension mapping for adding <script/>, <link/>, and other resource tags to JSF-pages  -->
 <filter-mapping>
  <filter-name>ExtensionsFilter</filter-name>
  <servlet-name>Faces Servlet</servlet-name>
 </filter-mapping>
 <!-- extension mapping for serving page-independent resources (javascript, stylesheets, images, etc.)  -->
 <filter-mapping>
  <filter-name>ExtensionsFilter</filter-name>
  <url-pattern>/faces/myFacesExtensionResource/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>ConnectionFilter</filter-name>
  <url-pattern>/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>RegistrationFilter</filter-name>
  <url-pattern>*.jsf</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>RegistrationFilter</filter-name>
  <url-pattern>*.jsp</url-pattern>
 </filter-mapping>

 <filter-mapping>
  <filter-name>AuthenticationFilter</filter-name>
  <url-pattern>/jobResults/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>AuthenticationFilter</filter-name>
  <url-pattern>*.jsp</url-pattern>
 </filter-mapping>

 <filter-mapping>
  <filter-name>AuthenticationFilter</filter-name>
  <url-pattern>*.jsf</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>AuthenticationFilter</filter-name>
  <url-pattern>*.ajax</url-pattern>
 </filter-mapping>
<filter-mapping>
  <filter-name>AuthenticationFilter</filter-name>
  <url-pattern>/reports/*</url-pattern>
 </filter-mapping>

 <filter-mapping>
  <filter-name>AuthorizationFilter</filter-name>
  <url-pattern>/services/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>AuthorizationFilter</filter-name>
  <url-pattern>*.jsp</url-pattern>
 </filter-mapping>

 <filter-mapping>
  <filter-name>AuthorizationFilter</filter-name>
  <url-pattern>*.jsf</url-pattern>
 </filter-mapping>

 <filter-mapping>
  <filter-name>AdminServerFilter</filter-name>
  <url-pattern>/reports/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
  <filter-name>HibernateFilter</filter-name>
  <url-pattern>/*</url-pattern>
 </filter-mapping>
 <filter-mapping>
   <filter-name>LogoutFilter</filter-name>
   <url-pattern>/logout</url-pattern>
 </filter-mapping>
 <filter-mapping>
   <filter-name>LogoutFilter</filter-name>
   <url-pattern>/logout.jsp</url-pattern>
 </filter-mapping>

<filter>
 <display-name>RichFaces Filter</display-name>
 <filter-name>richfaces</filter-name>
 <filter-class>org.ajax4jsf.Filter</filter-class>
 <!-- Don't modify html content in non-ajax responses -->
 <init-param>
  <param-name>forcenotrf</param-name>
  <param-value>false</param-value>
 </init-param>
 <init-param>
  <param-name>createTempFiles</param-name>
  <param-value>false</param-value>
 </init-param>
 <init-param>
  <param-name>maxRequestSize</param-name>
  <param-value>1000000000</param-value>
 </init-param>
</filter>

<filter-mapping>
 <filter-name>richfaces</filter-name>
 <url-pattern>/pages/serverSettings.jsf</url-pattern>
 <dispatcher>REQUEST</dispatcher>
 <dispatcher>FORWARD</dispatcher>
 <dispatcher>INCLUDE</dispatcher>
</filter-mapping>

<filter-mapping>
 <filter-name>richfaces</filter-name>
 <url-pattern>/pages/admin/*</url-pattern>
 <dispatcher>REQUEST</dispatcher>
 <dispatcher>FORWARD</dispatcher>
 <dispatcher>INCLUDE</dispatcher>
</filter-mapping>

<filter-mapping>
 <filter-name>richfaces</filter-name>
 <url-pattern>/pages/jobResults.jsf</url-pattern>
 <dispatcher>REQUEST</dispatcher>
 <dispatcher>FORWARD</dispatcher>
 <dispatcher>INCLUDE</dispatcher>
</filter-mapping>
<filter-mapping>
 <filter-name>richfaces</filter-name>
 <url-pattern>/pages/jobResult.jsf</url-pattern>
 <dispatcher>REQUEST</dispatcher>
 <dispatcher>FORWARD</dispatcher>
 <dispatcher>INCLUDE</dispatcher>
</filter-mapping>
<filter-mapping>
 <filter-name>richfaces</filter-name>
  <url-pattern>/a4j/*</url-pattern>
  <!--  servlet-name>Faces Servlet</servlet-name -->
 <dispatcher>REQUEST</dispatcher>
 <dispatcher>FORWARD</dispatcher>
 <dispatcher>INCLUDE</dispatcher>
</filter-mapping>
<filter-mapping>
 <filter-name>richfaces</filter-name>
 <url-pattern>/pages/index.jsf</url-pattern>
 <dispatcher>REQUEST</dispatcher>
 <dispatcher>FORWARD</dispatcher>
 <dispatcher>INCLUDE</dispatcher>
</filter-mapping>


 <servlet>
  <servlet-name>Faces Servlet</servlet-name>
  <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
  <load-on-startup>10</load-on-startup>
 </servlet>
 <servlet>
  <servlet-name>StartupServlet</servlet-name>
  <servlet-class>org.genepattern.server.webapp.StartupServlet</servlet-class>
  <load-on-startup>1</load-on-startup>
 </servlet>
 
<!-- just for debugging
 <servlet>
  <servlet-name>DebugServlet</servlet-name>
  <servlet-class>org.genepattern.server.webapp.DebugServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>DebugServlet</servlet-name>
  <url-pattern>/debug/*</url-pattern>
 </servlet-mapping>
-->

 <servlet>
  <display-name>Apache-Axis Servlet</display-name>
  <servlet-name>AxisServlet</servlet-name>
  <servlet-class>org.apache.axis.transport.http.AxisServlet</servlet-class>
  <load-on-startup>20</load-on-startup>
 </servlet>
 <servlet-mapping>
  <servlet-name>Faces Servlet</servlet-name>
  <url-pattern>*.jsf</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>AxisServlet</servlet-name>
  <url-pattern>/servlet/AxisServlet</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>AxisServlet</servlet-name>
  <url-pattern>*.jws</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>AxisServlet</servlet-name>
  <url-pattern>/services/*</url-pattern>
 </servlet-mapping>

  <servlet>
  <display-name>AjaxServlet</display-name>
  <servlet-name>AjaxServlet</servlet-name>
  <servlet-class>org.genepattern.server.webapp.jsf.AjaxServlet</servlet-class>
  <load-on-startup>11</load-on-startup>
 </servlet>
 <servlet-mapping>
  <servlet-name>AjaxServlet</servlet-name>
  <url-pattern>*.ajax</url-pattern>
 </servlet-mapping>
 
 <servlet>
  <display-name>DataServlet</display-name>
  <servlet-name>DataServlet</servlet-name>
  <servlet-class>org.genepattern.server.webapp.DataServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>DataServlet</servlet-name>
  <url-pattern>/data/*</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>DataServlet</servlet-name>
  <url-pattern>/users/*</url-pattern>
 </servlet-mapping>

 <servlet>
  <display-name>JobResultsServlet</display-name>
  <servlet-name>JobResultsServlet</servlet-name>
  <servlet-class>org.genepattern.server.webapp.JobResultsServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>JobResultsServlet</servlet-name>
  <url-pattern>/jobResults/*</url-pattern>
 </servlet-mapping>

 <servlet>
  <display-name>Login Servlet</display-name>
  <servlet-name>LoginServlet</servlet-name>
  <servlet-class>org.genepattern.server.webapp.LoginServlet</servlet-class>
  <load-on-startup>12</load-on-startup>
 </servlet>
 <servlet-mapping>
  <servlet-name>LoginServlet</servlet-name>
  <url-pattern>/login</url-pattern>
 </servlet-mapping>
 
 <servlet>
  <display-name>ModuleDocServlet</display-name>
  <servlet-name>ModuleDocServlet</servlet-name>
  <servlet-class>org.genepattern.server.webapp.ModuleDocServlet</servlet-class>
  <load-on-startup>13</load-on-startup>
 </servlet>
 <servlet-mapping>
  <servlet-name>ModuleDocServlet</servlet-name>
  <url-pattern>/module/doc/*</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>ModuleDocServlet</servlet-name>
  <url-pattern>/tasklib/*</url-pattern>
 </servlet-mapping>
 
<servlet>
    <display-name>Upload Receiver Servlet</display-name>
    <servlet-name>UploadReceiver</servlet-name>
    <servlet-class>org.genepattern.server.webapp.UploadReceiver</servlet-class>    
 </servlet>
 <servlet-mapping>
  <servlet-name>UploadReceiver</servlet-name>
  <url-pattern>/UploadReceiver</url-pattern>
 </servlet-mapping>

    <servlet>
        <display-name>AJAX Upload Servlet</display-name>
        <servlet-name>AJAXUpload</servlet-name>
        <servlet-class>org.genepattern.server.webapp.uploads.AJAXUploadServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AJAXUpload</servlet-name>
        <url-pattern>/AJAXUpload</url-pattern>
    </servlet-mapping>
 
 <servlet>
    <display-name>Pipeline Designer Servlet</display-name>
    <servlet-name>PipelineDesigner</servlet-name>
    <servlet-class>org.genepattern.pipelines.PipelineQueryServlet</servlet-class>    
 </servlet>
 <servlet-mapping>
  <servlet-name>PipelineDesigner</servlet-name>
  <url-pattern>/PipelineDesigner/*</url-pattern>
 </servlet-mapping>
 
 <servlet>
    <display-name>UploadFileTree Servlet</display-name>
    <servlet-name>UploadFileTree</servlet-name>
    <servlet-class>org.genepattern.server.webapp.uploads.UploadFileServlet</servlet-class>    
 </servlet>
 <servlet-mapping>
  <servlet-name>UploadFileTree</servlet-name>
  <url-pattern>/UploadFileTree/*</url-pattern>
 </servlet-mapping>
 
 <servlet>
    <display-name>ServerFileBrowser Servlet</display-name>
    <servlet-name>ServerFileBrowser</servlet-name>
    <servlet-class>org.genepattern.server.webapp.serverfiles.ServerFileServlet</servlet-class>    
 </servlet>
 <servlet-mapping>
  <servlet-name>ServerFileBrowser</servlet-name>
  <url-pattern>/ServerFileBrowser/*</url-pattern>
 </servlet-mapping>
 
 <filter>
  <filter-name>RestApiFilter</filter-name>
  <filter-class>org.genepattern.server.webapp.rest.RestApiFilter</filter-class>
</filter>

<filter-mapping>
  <filter-name>RestApiFilter</filter-name>
  <url-pattern>/rest/*</url-pattern>
</filter-mapping>

<servlet>
    <!-- The Jersey Servlet. Bootstraps and enables Jersey code -->
     <servlet-name>RestService</servlet-name>
     <servlet-class>org.glassfish.jersey.servlet.ServletContainer</servlet-class>
     <!-- Include here the packages that have Jersey annotations (@Path, @GET etc.)
          separated by commas -->
    <init-param>
         <param-name>jersey.config.server.provider.packages</param-name>
         <param-value>org.genepattern.server.webapp.rest</param-value>
     </init-param>
    <init-param>
        <param-name>javax.ws.rs.Application</param-name>
        <param-value>org.genepattern.server.webapp.rest.RestApplication</param-value>
    </init-param>
    <init-param>
        <param-name>jersey.api.json.POJOMappingFeature</param-name>
        <param-value>true</param-value>
    </init-param>
    <load-on-startup>14</load-on-startup>
</servlet >

<servlet-mapping>
  <servlet-name>RestService</servlet-name>
  <url-pattern>/rest/*</url-pattern>
 </servlet-mapping>

 
 <servlet>
  <display-name>Module Creator Servlet</display-name>
  <servlet-name>ModuleCreator</servlet-name>
  <servlet-class>org.genepattern.modules.ModuleQueryServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>ModuleCreator</servlet-name>
  <url-pattern>/ModuleCreator/*</url-pattern>
 </servlet-mapping>

 <servlet>
  <display-name>JobConfigurationServlet</display-name>
  <servlet-name>JobConfigurationServlet</servlet-name>
  <servlet-class>org.genepattern.server.webapp.JobConfigurationServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>JobConfigurationServlet</servlet-name>
  <url-pattern>/rest/JobConfiguration</url-pattern>
 </servlet-mapping>
 
 
 
 
 <!-- support for GenePattern API -->
 <filter>
  <filter-name>ApiFilter</filter-name>
  <filter-class>org.genepattern.server.api.ApiAuthenticationFilter</filter-class>
 </filter>
 <filter-mapping>
  <filter-name>ApiFilter</filter-name>
  <url-pattern>/api/*</url-pattern>
 </filter-mapping>

 <servlet>
  <display-name>AdminServlet</display-name>
  <servlet-name>AdminServlet</servlet-name>
  <servlet-class>org.genepattern.server.api.admin.AdminServlet</servlet-class>
 </servlet>
 <servlet>
 	<description>
 	</description>
 	<display-name>GlobusOAuthServlet</display-name>
 	<servlet-name>GlobusOAuthServlet</servlet-name>
 	<servlet-class>org.genepattern.server.webapp.rest.api.v1.oauth.GlobusOAuthServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>GlobusOAuthServlet</servlet-name>
  <url-pattern>/oauthglobus</url-pattern>
 </servlet-mapping>
 <servlet>
 	<description>
 	</description>
 	<display-name>GlobusOAuthCallbackServlet</display-name>
 	<servlet-name>GlobusOAuthCallbackServlet</servlet-name>
 	<servlet-class>org.genepattern.server.webapp.rest.api.v1.oauth.GlobusOAuthCallbackServlet</servlet-class>
 </servlet>
 <servlet-mapping>
  <servlet-name>GlobusOAuthCallbackServlet</servlet-name>
  <url-pattern>/oauthcallback</url-pattern>
 </servlet-mapping>
 <servlet>
 	<description>
 	</description>
 	<display-name>GlobusTestServlet</display-name>
 	<servlet-name>GlobusTestServlet</servlet-name>
 	<servlet-class>org.genepattern.server.webapp.rest.api.v1.oauth.GlobusTestServlet</servlet-class>
 </servlet>
 <servlet>
 	<description>
 	</description>
 	<display-name>GlobusTransferInServlet</display-name>
 	<servlet-name>GlobusTransferInServlet</servlet-name>
 	<servlet-class>org.genepattern.server.webapp.rest.api.v1.oauth.GlobusTransferInServlet</servlet-class>
 </servlet>
 
 
 
 
 <servlet-mapping>
   <servlet-name>AdminServlet</servlet-name>
   <url-pattern>/api/admin/*</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
 	<servlet-name>GlobusOAuthServlet</servlet-name>
 	<url-pattern>/GlobusOAuthServlet</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
 	<servlet-name>GlobusOAuthCallbackServlet</servlet-name>
 	<url-pattern>/GlobusOAuthCallbackServlet</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
 	<servlet-name>GlobusTestServlet</servlet-name>
 	<url-pattern>/GlobusTestServlet</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
 	<servlet-name>GlobusTransferInServlet</servlet-name>
 	<url-pattern>/GlobusTransferInServlet</url-pattern>
 </servlet-mapping>

 <welcome-file-list>
  <welcome-file>/index.jsp</welcome-file>
 </welcome-file-list>

</web-app>
